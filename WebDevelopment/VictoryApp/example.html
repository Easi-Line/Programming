<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>example.victory_fellowship</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>
    <header>
        <h1>Victory Fellowship</h1>
    </header>
    <div class="container">
        <!-- Sign Up Form -->
        <form class="fellowshipForm" id="signUpForm">
            <h2>Sign Up</h2>
            <label for="signup-name">Full Name</label>
            <input type="text" id="signup-name" name="signup-name" required>

            <label for="signup-email">Email</label>
            <input type="email" id="signup-email" required>

            <div class="passwordSection">
                <label for="signup-password">Password</label>
                <input type="password" id="signup-password" minlength="8" maxlength="15" placeholder="password must be 8-15 characters long" required>
                <h4 class="resetPassword" id="resetPassword">Forgot password?</h4>
            </div>

            <label for="signup-position">Position</label>
            <select class="position" id="signup-position" required>
                <option value="">Select Position</option>
                <option value="fLeader">Fellowship Leader</option>
                <option value="cLeader">Cell Leader</option>
                <option value="BSCT">BSC Teacher</option>
                <option value="member">Member</option>
            </select>

            <label for="signup-dateOfBirth">When is your birthday?</label>
            <input type="date" id="signup-dateOfBirth" required>

            <button class="signUp" id="signUp" type="submit">Sign Up</button>
            <h3 class="signInPrompt">Already have an account? <span id="signInLink">Sign In</span></h3>
        </form>
        <!-- Sign In Form -->
        <form id="signInForm" style="display:none;">
            <h2>Sign In</h2>
            <label for="signin-email">Email</label>
            <input type="email" id="signin-email" required>

            <label for="signin-password">Password</label>
            <input type="password" id="signin-password" required>

            <button type="submit">Sign In</button>
            <h3 class="signInPrompt">Don't have an account? <span id="signUpLink">Sign Up</span></h3>
        </form>
        <div id="auth-message"></div>
    </div>
    <script>
        // Toggle between Sign Up and Sign In
        const showSignUp = document.getElementById('showSignUp');
        const showSignIn = document.getElementById('showSignIn');
        const signUpForm = document.getElementById('signUpForm');
        const signInForm = document.getElementById('signInForm');
        const signInLink = document.getElementById('signInLink');
        const signUpLink = document.getElementById('signUpLink');
        const authMessage = document.getElementById('auth-message');

        showSignUp.onclick = function() {
            signUpForm.style.display = '';
            signInForm.style.display = 'none';
            showSignUp.classList.add('active');
            showSignIn.classList.remove('active');
            authMessage.textContent = '';
        };
        showSignIn.onclick = function() {
            signUpForm.style.display = 'none';
            signInForm.style.display = '';
            showSignIn.classList.add('active');
            showSignUp.classList.remove('active');
            authMessage.textContent = '';
        };
        if(signInLink) signInLink.onclick = showSignIn.onclick;
        if(signUpLink) signUpLink.onclick = showSignUp.onclick;

        // Simple in-memory user store
        let users = [];

        signUpForm.onsubmit = function(e) {
            e.preventDefault();
            const name = document.getElementById('signup-name').value.trim();
            const email = document.getElementById('signup-email').value.trim();
            const password = document.getElementById('signup-password').value;
            const position = document.getElementById('signup-position').value;
            const dob = document.getElementById('signup-dateOfBirth').value;
            if (users.find(u => u.email === email)) {
                authMessage.textContent = "Email already registered.";
                authMessage.style.color = "red";
                return;
            }
            users.push({ name, email, password, position, dob });
            authMessage.textContent = "Sign up successful! You can now sign in.";
            authMessage.style.color = "green";
            signUpForm.reset();
        };

        signInForm.onsubmit = function(e) {
            e.preventDefault();
            const email = document.getElementById('signin-email').value.trim();
            const password = document.getElementById('signin-password').value;
            const user = users.find(u => u.email === email && u.password === password);
            if (user) {
                authMessage.textContent = `Welcome, ${user.name}!`;
                authMessage.style.color = "green";
                signInForm.reset();
            } else {
                authMessage.textContent = "Invalid email or password.";
                authMessage.style.color = "red";
            }
        };
    </script>
</body>